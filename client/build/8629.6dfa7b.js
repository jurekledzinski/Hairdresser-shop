(self.webpackChunkbarbershop=self.webpackChunkbarbershop||[]).push([[8629],{88629:function(e,a,t){"use strict";t.r(a);var n=t(87757),i=t.n(n),s=t(48926),l=t.n(s),r=t(63038),m=t.n(r),c=t(67294),o=t(16550),d=t(84751),p=t(62598),u=(t(92276),t(73406)),P=t(55948),h=t(65467),g=t(92723),f=t(97004),v=t(7648),_=t(43677),b=t(16431),C=t(50251);a.default=function(){var e=(0,_.Z)(),a=e.initialValues,t=e.validationSchema,n=(0,d.I0)(),s=(0,d.v9)((function(e){return e.alertData})),r=(0,d.v9)((function(e){return e.orderDetailsData})),E=(0,d.v9)((function(e){return e.singleExcludedTimeData})),N=(0,c.useState)(!1),k=m()(N,2),T=k[0],S=k[1],x=(0,o.k6)(),y=function(){var e=l()(i().mark((function e(a,t){var s,l,c,o,d,p,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=r).agreePolicy=a.agreePolicy,s.isPayed=!0,e.next=5,(0,h.mv)(s);case 5:return l=e.sent,c=l.data,o=l.status,d=m()(E,1),p=d[0],e.next=11,(0,h.oT)(p);case 11:if(200!==o){e.next=19;break}return g={bookingId:c.bookingId,cancelCode:c.cancelCode,dateAppointment:c.date,email:c.email,hairdresserName:c.hairdresserName,name:c.name,services:c.services,totalPrice:c.totalPrice},n((0,P.CH)(c)),e.next=16,(0,h.Oq)(g);case 16:S(!0),e.next=20;break;case 19:n((0,u.PA)(error.message,"registerForm"));case 20:t.setSubmitting(!1),t.resetForm();case 22:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){sessionStorage.getItem("pageTwo")&&x.push("/admin/apponitments"),sessionStorage.setItem("pageTwo",!0)}),[]);var D=function(){x.push("/admin/apponitments")},w=function(){S(!1),x.push("/admin/apponitments")},Z=function(e){return c.createElement("p",{className:"admin-appointment-details__error-msg"},e.children)};return c.createElement(p.J9,{initialValues:a,validationSchema:t,onSubmit:y},(function(e){return c.createElement("section",{className:"admin-appointment-details"},c.createElement("div",{className:"admin-appointment-details__center-wrapper"},c.createElement("button",{className:"admin-appointment-details__button-go-back",onClick:D},"Go back"),c.createElement("div",{className:"admin-appointment-details__wrapper"},c.createElement("div",{className:"admin-appointment-details__right"},c.createElement("div",{className:"admin-appointment-details__inside-wrapper"},c.createElement("h3",{className:"admin-appointment-details__title"},"Booking details"),c.createElement("div",{className:"admin-appointment-details__details"},c.createElement(g.Z,{adminPanelClassDetailsTitle:"adminPanelClassDetailsTitle",adminPanelClassPersonDetails:"adminPanelClassPersonDetails",adminPanelClassPersonText:"adminPanelClassPersonText",email:r.email,date:r.date,hairdresserName:r.hairdresserName,name:r.name,phone:r.phone}),c.createElement(v.Z,{adminPanelClassDetailsTitle:"adminPanelClassDetailsTitle",adminPanelClassServiceName:"adminPanelClassServiceName",adminPanelClassServicePrice:"adminPanelClassServicePrice",adminPanelClassStyleScroll:"adminPanelClassStyleScroll",services:r.services}),c.createElement(f.Z,{adminPanelClassDetailsTitle:"adminPanelClassDetailsTitle",adminPanelClassTaxPriceTitle:"adminPanelClassTaxPriceTitle",adminPanelClassTaxPriceValue:"adminPanelClassTaxPriceValue",totalPrice:Boolean(r.totalPrice)&&r.totalPrice,subTotalPrice:r.subTotalPrice}),c.createElement(p.l0,{className:"admin-appointment-details__confirm-terms-shop"},(!Boolean(Object.keys(e.errors).length)&&s.errorServerMsg,c.createElement(b.Z,null)),c.createElement(p.Bc,{name:"agreePolicy",component:Z}),c.createElement("label",{className:"admin-appointment-details__confirm-terms",htmlFor:"agree"},c.createElement(p.gN,{name:"agreePolicy",className:"admin-appointment-details__confirm-checkbox",type:"checkbox",id:"agree"}),"I agree with terms policy of Hair planet shop"),c.createElement("button",{className:"admin-appointment-details__button-checkout",type:"submit",disabled:!e.isValid},"Checkout")),c.createElement(C.Z,{isOpenModal:T,handleRedirect:w,messageTitle:"Service is booked successfully"})))))))}))}},50251:function(e,a,t){"use strict";var n=t(67294),i=(t(48462),t(16655));a.Z=function(e){var a=e.isOpenModal,t=e.handleRedirect,s=e.messageTitle;return n.createElement(i.Z,{isOpen:a},n.createElement("div",{className:a?"admin-message-popup admin-message-popup--active":"admin-message-popup"},n.createElement("h4",{className:"admin-message-popup__title"},s),n.createElement("p",{className:"admin-message-popup__text"},"Soon you should recive an email confirmation with all details of your order."),n.createElement("button",{className:"admin-message-popup__button-redirect",onClick:t},"Back to admin")))}},92276:function(){},48462:function(){}}]);