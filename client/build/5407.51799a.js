(self.webpackChunkbarbershop=self.webpackChunkbarbershop||[]).push([[5407],{45407:function(e,t,a){"use strict";a.r(t);var r=a(87757),n=a.n(r),l=a(48926),s=a.n(l),c=a(63038),i=a.n(c),o=a(67294),u=a(16550),m=a(84751),p=a(62598),f=a(76213),g=(a(24501),a(73406)),d=a(65467),_=a(16431),E=a(49819),v=a(35248),N=a(6841);t.default=function(){var e=(0,m.I0)(),t=(0,m.v9)((function(e){return e.alertData})),a=(0,v.Z)("https://firebasestorage.googleapis.com/v0/b/hairdress-shop.appspot.com/o/Background-register.jpg?alt=media&token=1aaaebea-8a46-4dd2-bed2-f6b55509fb37"),r=(0,o.useState)(!1),l=i()(r,2),c=l[0],b=l[1],h=(0,o.useRef)(!1),w=(0,o.useRef)(null),k=(0,o.useRef)(null),y=(0,u.k6)(),S=f.Ry({email:f.Z_().email("Invalid email").required("Email required"),password:f.Z_().required("Password required")}),Z=function(){var t=s()(n().mark((function t(a,r){var l,s;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,d.cW)(a);case 2:l=t.sent,s=l.data,200!==l.status?e((0,g.PA)(s.alert,"registerForm")):(e((0,g.Ob)(s.success,"registerForm")),w.current=!0,h.current=!0),r.resetForm();case 7:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}();(0,o.useEffect)((function(){return(t.successServerMsg||t.errorServerMsg)&&setTimeout((function(){k.current=e((0,g.a2)(null,null)),k.current=e((0,g.cJ)(null,null))}),1e3),function(){return clearTimeout(k.current)}}),[t.errorServerMsg,t.successServerMsg]),(0,o.useEffect)((function(){return h.current&&(w.current=setTimeout((function(){y.push("/admin")}),1100)),function(){return clearTimeout(w.current)}}),[h.current]);var M=function(e){return o.createElement("p",{className:"login__error-msg"},e.children)},q=function(e){var t=e.target,a=t.type,r=t.value;"text"===a&&""===r&&b(!1)},x=function(){b((function(e){return!e}))};return o.createElement(p.J9,{initialValues:{email:"",password:""},validationSchema:S,onSubmit:Z},(function(e){return o.createElement("section",{className:"login"},o.createElement("div",{className:"login__wrapper"},o.createElement(E.Z,null),o.createElement("div",{className:"login__left"},!a&&o.createElement("div",{className:"login__overlay"},o.createElement(N.Z,null)),o.createElement("span",{className:"login__cover-left"}),a&&o.createElement("div",{className:"login__left-redirects"},o.createElement("h2",{className:"login__left-title"},"Log in"),o.createElement("p",{className:"login__left-subtitle"},"Please fill in your credentials to enter into admin dashboard"))),o.createElement("div",{className:"login__right"},o.createElement("h2",{className:"login__right-title"},"Log in"),o.createElement(p.l0,{className:"login__form"},(!Boolean(Object.keys(e.errors).length)&&t.errorServerMsg,o.createElement(_.Z,null)),o.createElement(p.Bc,{name:"email",component:M}),o.createElement("div",{className:"login__input-wrapper"},o.createElement("label",{className:"login__label"},"Email"),o.createElement(p.gN,{className:"login__input",name:"email",type:"email",placeholder:"Your email"}),o.createElement("span",{className:"login__icon"},o.createElement("i",{className:"far fa-envelope"}))),o.createElement(p.Bc,{name:"password",component:M}),o.createElement("div",{className:"login__input-wrapper"},o.createElement("label",{className:"login__label"},"Password"),o.createElement(p.gN,{className:"login__input",name:"password",type:c?"text":"password",placeholder:"Your password",onClick:q}),o.createElement("span",{className:"login__icon",onClick:x},c?o.createElement("i",{className:"far fa-eye-slash"}):o.createElement("i",{className:"fas fa-eye"}))),o.createElement("button",{className:"login__button-login",type:"submit",disabled:!e.isValid},"Log in")))))}))}},24501:function(){}}]);