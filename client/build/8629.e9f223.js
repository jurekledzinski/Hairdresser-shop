(self.webpackChunkbarbershop=self.webpackChunkbarbershop||[]).push([[8629],{88629:function(e,a,t){"use strict";t.r(a);var n=t(87757),i=t.n(n),s=t(48926),l=t.n(s),r=t(63038),m=t.n(r),c=t(67294),o=t(16550),d=t(84751),p=t(62598),u=(t(92276),t(73406)),P=t(55948),h=t(6212),b=t(83574),g=t(44056),f=t(45241),v=t(65467),_=t(92723),E=t(97004),C=t(7648),k=t(43677),N=t(16431),T=t(50251);a.default=function(){var e=(0,k.Z)(),a=e.initialValues,t=e.validationSchema,n=(0,d.I0)(),s=(0,d.v9)((function(e){return e.alertData})),r=(0,d.v9)((function(e){return e.orderDetailsData})),S=(0,d.v9)((function(e){return e.singleExcludedTimeData})),x=(0,c.useState)(!1),y=m()(x,2),D=y[0],w=y[1],Z=(0,o.k6)(),I=function(){var e=l()(i().mark((function e(a,t){var s,l,c,o,d,p,_,E,C,k;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=r).agreePolicy=a.agreePolicy,s.isPayed=!0,e.next=5,(0,v.mv)(s);case 5:return l=e.sent,c=l.data,o=l.status,d=m()(S,1),p=d[0],e.next=11,(0,v.oT)(p);case 11:if(200!==o){e.next=31;break}return _={bookingId:c.bookingId,cancelCode:c.cancelCode,dateAppointment:c.date,email:c.email,hairdresserName:c.hairdresserName,name:c.name,services:c.services,totalPrice:c.totalPrice},n((0,P.CH)(c)),e.next=16,(0,v.Oq)(_);case 16:w(!0),E=new Date(c.dataPayed).getMonth(),C=c.bookingWhere,k=c.totalPrice,e.t0=C,e.next="Shop"===e.t0?23:"Website"===e.t0?26:28;break;case 23:return n((0,h.se)(E)),n((0,g.PE)(E,k)),e.abrupt("break",29);case 26:n((0,b.A7)(E)),n((0,f.pE)(E,k));case 28:return e.abrupt("break",29);case 29:e.next=32;break;case 31:n((0,u.PA)(error.message,"registerForm"));case 32:t.setSubmitting(!1),t.resetForm();case 34:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){sessionStorage.getItem("pageTwo")&&Z.push("/admin/apponitments"),sessionStorage.setItem("pageTwo",!0)}),[]);var B=function(){Z.push("/admin/apponitments")},O=function(){w(!1),Z.push("/admin/apponitments")},V=function(e){return c.createElement("p",{className:"admin-appointment-details__error-msg"},e.children)};return c.createElement(p.J9,{initialValues:a,validationSchema:t,onSubmit:I},(function(e){return c.createElement("section",{className:"admin-appointment-details"},c.createElement("div",{className:"admin-appointment-details__center-wrapper"},c.createElement("button",{className:"admin-appointment-details__button-go-back",onClick:B},"Go back"),c.createElement("div",{className:"admin-appointment-details__wrapper"},c.createElement("div",{className:"admin-appointment-details__right"},c.createElement("div",{className:"admin-appointment-details__inside-wrapper"},c.createElement("h3",{className:"admin-appointment-details__title"},"Booking details"),c.createElement("div",{className:"admin-appointment-details__details"},c.createElement(_.Z,{adminPanelClassDetailsTitle:"adminPanelClassDetailsTitle",adminPanelClassPersonDetails:"adminPanelClassPersonDetails",adminPanelClassPersonText:"adminPanelClassPersonText",email:r.email,date:r.date,hairdresserName:r.hairdresserName,name:r.name,phone:r.phone}),c.createElement(C.Z,{adminPanelClassDetailsTitle:"adminPanelClassDetailsTitle",adminPanelClassServiceName:"adminPanelClassServiceName",adminPanelClassServicePrice:"adminPanelClassServicePrice",adminPanelClassStyleScroll:"adminPanelClassStyleScroll",services:r.services}),c.createElement(E.Z,{adminPanelClassDetailsTitle:"adminPanelClassDetailsTitle",adminPanelClassTaxPriceTitle:"adminPanelClassTaxPriceTitle",adminPanelClassTaxPriceValue:"adminPanelClassTaxPriceValue",totalPrice:Boolean(r.totalPrice)&&r.totalPrice,subTotalPrice:r.subTotalPrice}),c.createElement(p.l0,{className:"admin-appointment-details__confirm-terms-shop"},(!Boolean(Object.keys(e.errors).length)&&s.errorServerMsg,c.createElement(N.Z,null)),c.createElement(p.Bc,{name:"agreePolicy",component:V}),c.createElement("label",{className:"admin-appointment-details__confirm-terms",htmlFor:"agree"},c.createElement(p.gN,{name:"agreePolicy",className:"admin-appointment-details__confirm-checkbox",type:"checkbox",id:"agree"}),"I agree with terms policy of Hair planet shop"),c.createElement("button",{className:"admin-appointment-details__button-checkout",type:"submit",disabled:!e.isValid},"Checkout")),c.createElement(T.Z,{isOpenModal:D,handleRedirect:O,messageTitle:"Service is booked successfully"})))))))}))}},50251:function(e,a,t){"use strict";var n=t(67294),i=(t(48462),t(16655));a.Z=function(e){var a=e.isOpenModal,t=e.handleRedirect,s=e.messageTitle;return n.createElement(i.Z,{isOpen:a},n.createElement("div",{className:a?"admin-message-popup admin-message-popup--active":"admin-message-popup"},n.createElement("h4",{className:"admin-message-popup__title"},s),n.createElement("p",{className:"admin-message-popup__text"},"Soon you should recive an email confirmation with all details of your order."),n.createElement("button",{className:"admin-message-popup__button-redirect",onClick:t},"Back to admin")))}},92276:function(){},48462:function(){}}]);