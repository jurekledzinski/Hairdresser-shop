(self.webpackChunkbarbershop=self.webpackChunkbarbershop||[]).push([[2165],{82165:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return R}});var n=r(63038),a=r.n(n),o=r(67294),s=r(84751),i=r(79521),c=(r(97607),function(e,t){var r=(0,s.v9)((function(e){return e.opinionsDataToUse}));return{columns:(0,o.useMemo)((function(){return[{Header:"Name Surname",accessor:"name"},{Header:"Rate",accessor:"rateStar"},{Header:"Image url",accessor:"imageUrl"},{Header:"Opinion",accessor:"opinion"},{Header:"Delete",disableSortBy:!0,id:"delete",accessor:function(e){return"delete"},Cell:function(r){return o.createElement("button",{className:"admin-opinions__btn-remove",onClick:function(){var n=r.row.original._id;e(n),t(!0)}},o.createElement("i",{className:"fas fa-times"}))}}]}),[r]),data:(0,o.useMemo)((function(){return r}),[r])}}),l=r(76961),u=r(73637),p=r(67154),d=r.n(p),m=r(59713),f=r.n(m),b=r(319),g=r.n(b),v=r(44586);r(28294);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){f()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var E=function(e){var t=e.getTableProps,r=e.getTableBodyProps,n=e.headerGroups,s=e.page,i=e.prepareRow,c=(0,o.useState)(window.innerWidth>=800),l=a()(c,2),u=l[0],p=l[1],m=(0,o.useState)([]),f=a()(m,2),b=f[0],h=f[1];(0,o.useEffect)((function(){for(var e=[],t=0;t<s.length;t++)for(var r=0;r<n[0].headers.length;r++)e=[].concat(g()(e),[n[0].headers[r]]);var a=e.map((function(e){return P(P({},e),{},{id:(0,v.Z)()})})),o=n.map((function(e){return P(P({},e),{},{headers:a})}));h(o)}),[s]);var E=function(){window.innerWidth>=800?p(!0):p(!1)};return(0,o.useEffect)((function(){return window.addEventListener("resize",E),function(){return window.removeEventListener("resize",E)}}),[]),o.createElement("table",d()({className:"table-opinions"},t()),o.createElement("thead",{className:"table-opinions__head"},u?n.map((function(e){return o.createElement("tr",d()({className:"table-opinions__head-tr"},e.getHeaderGroupProps()),e.headers.map((function(e){return o.createElement("th",d()({className:"table-opinions__head-th"},e.getHeaderProps(e.getSortByToggleProps())),e.render("Header"),o.createElement("span",null,e.isSorted?e.isSortedDesc?"▼":"▲":""))})))})):b.map((function(e){return o.createElement("tr",d()({className:"table-opinions__head-tr"},e.getHeaderGroupProps()),e.headers.map((function(e){return o.createElement("th",d()({className:"table-opinions__head-th"},e.getHeaderProps(e.getSortByToggleProps()),{key:e.getHeaderProps().key=(0,v.Z)()}),e.render("Header"),o.createElement("span",null,e.isSorted?e.isSortedDesc?"▼":"▲":""))})))}))),o.createElement("tbody",d()({className:"table-opinions__body"},r()),s.map((function(e){return i(e),o.createElement("tr",d()({className:"table-opinions__body-tr"},e.getRowProps()),e.cells.map((function(e){return o.createElement("td",d()({className:"table-opinions__body-td--courses"},e.getCellProps()),e.render("Cell"))})))}))))},y=r(22584),w=r(73680),O=r(16431),_=r(87757),N=r.n(_),S=r(48926),H=r.n(S),T=r(73406),j=r(65467),D=r(10511),k=function(e,t){var r=(0,s.I0)();return{handleRemoveItem:function(){var n=H()(N().mark((function n(){var a,o;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,j.Hf)(e);case 2:a=n.sent,o=a.data,200===a.status?(r((0,T.Ob)(o.success,"removeAtTableAdmin")),r((0,D.M2)(e)),t(!1)):r((0,T.PA)(o.alert,"removeAtTableAdmin"));case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()}},R=function(){var e=(0,s.v9)((function(e){return e.useAdminData})),t=(0,s.v9)((function(e){return e.alertData})),r=(0,s.v9)((function(e){return e.opinionsDataToUse})),n=(0,o.useState)(""),p=a()(n,2),d=p[0],m=p[1],f=(0,o.useState)(!1),b=a()(f,2),g=b[0],v=b[1],h=c(m,v),P=h.columns,_=h.data,N=k(d,v).handleRemoveItem;(0,y.Z)();var S=(0,i.useTable)({columns:P,data:_},i.useGlobalFilter,i.useSortBy,i.usePagination),H=S.getTableProps,T=S.getTableBodyProps,j=S.headerGroups,D=S.page,R=S.nextPage,x=S.previousPage,I=S.canNextPage,A=S.canPreviousPage,B=S.pageOptions,G=S.prepareRow,Z=S.state,C=S.setGlobalFilter,M=Z.globalFilter,F=Z.pageIndex;return o.createElement("article",{className:"admin-opinions"},(t.errorServerMsg,o.createElement(O.Z,null)),o.createElement("div",{className:"admin-opinions__wrapper"},o.createElement(u.Z,{data:r,filter:M,setFilter:C}),o.createElement(E,{getTableProps:H,getTableBodyProps:T,headerGroups:j,page:D,prepareRow:G}),o.createElement(l.Z,{canNextPage:I,canPreviousPage:A,nextPage:R,pageIndex:F,pageOptions:B,previousPage:x})),o.createElement(w.Z,{enableAction:e.enableOpinions,isOpenModal:g,handleRemoveItem:N,handleNotRemoveItem:function(){v(!1)},purpose:"opinion"}))}},97607:function(){},28294:function(){}}]);