(self.webpackChunkbarbershop=self.webpackChunkbarbershop||[]).push([[3816],{77449:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return S}});var r=t(63038),n=t.n(r),o=t(67294),s=t(84751),u=t(79521),c=(t(17547),t(16550)),l=t(15616),i=t.n(l),d=function(e,a,t){var r=(0,s.v9)((function(e){return e.bookedOrdersData})),n=(0,c.k6)();return{columns:(0,o.useMemo)((function(){return[{Header:"Name Surname",accessor:"name"},{Header:"Date booking",accessor:"date",Cell:function(e){var a=e.value;return i()(new Date(a),"dd/MM/yyyy")}},{Header:"Time booking",accessor:"bookTime",Cell:function(e){var a=e.value;return i()(new Date(a),"HH:mm")}},{Header:"Hairdresser",accessor:"hairdresserName"},{Header:"Details",disableSortBy:!0,id:"details",accessor:function(e){return"details"},Cell:function(e){return o.createElement("button",{className:"admin-booked__btn-remove",onClick:function(){n.push("/admin/details-booked-order/".concat(e.row.original._id))}},"Details")}},{Header:"Remove",disableSortBy:!0,id:"remove",accessor:function(e){return"remove"},Cell:function(r){return o.createElement("button",{className:"admin-booked__btn-remove",onClick:function(){t(!0),e(r.row.original._id),a(r.row.original.cancelCode)}},o.createElement("i",{className:"fas fa-trash-alt"}))}}]}),[r]),data:(0,o.useMemo)((function(){return r}),[r])}},m=t(76961),b=t(73637),p=t(21696),f=t(73680),v=t(16431),g=t(22584),k=t(87757),h=t.n(k),P=t(48926),w=t.n(P),x=t(73406),y=t(65467),C=t(55948),D=t(6212),E=t(83574),N=t(44056),H=t(45241),I=function(e,a,t){var r=(0,s.I0)();return{handleRemoveItem:function(){var n=w()(h().mark((function n(){var o,s,u,c,l,i;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,y.XP)(e);case 2:return o=n.sent,s=o.data,u=o.status,n.next=7,(0,y._o)(a);case 7:if(200!==u){n.next=25;break}c=new Date(s.result.dataPayed).getMonth(),l=s.result.bookingWhere,i=s.result.totalPrice,n.t0=l,n.next="Shop"===n.t0?14:"Website"===n.t0?17:19;break;case 14:return r((0,D.Wc)(c)),r((0,N.a$)(c,i)),n.abrupt("break",20);case 17:r((0,E.Cj)(c)),r((0,H.YI)(c,i));case 19:return n.abrupt("break",20);case 20:r((0,x.Ob)(s.success,"removeAtTableAdmin")),r((0,C.Ac)(e)),t(!1),n.next=26;break;case 25:r((0,x.PA)(s.alert,"removeAtTableAdmin"));case 26:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()}},S=function(){(0,s.I0)();var e=(0,s.v9)((function(e){return e.useAdminData})),a=(0,s.v9)((function(e){return e.bookedOrdersData})),t=(0,s.v9)((function(e){return e.alertData})),r=(0,o.useState)(null),c=n()(r,2),l=c[0],i=c[1],k=(0,o.useState)(null),h=n()(k,2),P=h[0],w=h[1],x=(0,o.useState)(!1),y=n()(x,2),C=y[0],D=y[1],E=d(i,w,D),N=E.columns,H=E.data,S=I(l,P,D).handleRemoveItem;(0,g.Z)();var T=(0,u.useTable)({columns:N,data:H},u.useGlobalFilter,u.useSortBy,u.usePagination),_=T.getTableProps,A=T.getTableBodyProps,M=T.headerGroups,R=T.page,B=T.nextPage,O=T.previousPage,Z=T.canNextPage,F=T.canPreviousPage,G=T.pageOptions,W=T.prepareRow,j=T.state,X=T.setGlobalFilter,Y=j.globalFilter,$=j.pageIndex;return o.createElement("article",{className:"admin-booked"},(t.errorServerMsg,o.createElement(v.Z,null)),o.createElement("div",{className:"admin-booked__wrapper"},o.createElement(b.Z,{data:a,filter:Y,setFilter:X}),o.createElement(p.Z,{getTableProps:_,getTableBodyProps:A,headerGroups:M,page:R,prepareRow:W}),o.createElement(m.Z,{canNextPage:Z,canPreviousPage:F,nextPage:B,pageIndex:$,pageOptions:G,previousPage:O}),o.createElement(f.Z,{enableAction:e.enableBook,isOpenModal:C,handleRemoveItem:S,handleNotRemoveItem:function(){D(!1)},purpose:"order"})))}},17547:function(){}}]);