(self.webpackChunkbarbershop=self.webpackChunkbarbershop||[]).push([[581],{70581:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return A}});var a=r(63038),n=r.n(a),s=r(67294),o=r(84751),c=r(79521),l=(r(3101),r(15616)),u=r.n(l),i=function(e,t){var r=(0,o.v9)((function(e){return e.emailDataToUse}));return{columns:(0,s.useMemo)((function(){return[{Header:"Name Surname",accessor:"name"},{Header:"Email",accessor:"email"},{Header:"Date",accessor:"date",Cell:function(e){var t=e.value;return u()(new Date(t),"dd/MM/yyyy HH:mm")}},{Header:"Message",accessor:"message"},{Header:"Delete",disableSortBy:!0,id:"delete",accessor:function(e){return"delete"},Cell:function(r){return s.createElement("button",{className:"admin-email__btn-remove",onClick:function(){var a=r.row.original._id;e(a),t(!0)}},s.createElement("i",{className:"fas fa-times"}))}}]}),[r]),data:(0,s.useMemo)((function(){return r}),[r])}},d=r(76961),m=r(73637),p=r(67154),f=r.n(p),b=r(59713),g=r.n(b),v=r(319),h=r.n(v),P=r(44586);r(2463);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){g()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w=function(e){var t=e.getTableProps,r=e.getTableBodyProps,a=e.headerGroups,o=e.page,c=e.prepareRow,l=(0,s.useState)(window.innerWidth>=800),u=n()(l,2),i=u[0],d=u[1],m=(0,s.useState)([]),p=n()(m,2),b=p[0],g=p[1];(0,s.useEffect)((function(){for(var e=[],t=0;t<o.length;t++)for(var r=0;r<a[0].headers.length;r++)e=[].concat(h()(e),[a[0].headers[r]]);var n=e.map((function(e){return E(E({},e),{},{id:(0,P.Z)()})})),s=a.map((function(e){return E(E({},e),{},{headers:n})}));g(s)}),[o]);var v=function(){window.innerWidth>=800?d(!0):d(!1)};return(0,s.useEffect)((function(){return window.addEventListener("resize",v),function(){return window.removeEventListener("resize",v)}}),[]),s.createElement("table",f()({className:"table-courses"},t()),s.createElement("thead",{className:"table-courses__head"},i?a.map((function(e){return s.createElement("tr",f()({className:"table-courses__head-tr"},e.getHeaderGroupProps()),e.headers.map((function(e){return s.createElement("th",f()({className:"table-courses__head-th"},e.getHeaderProps(e.getSortByToggleProps())),e.render("Header"),s.createElement("span",null,e.isSorted?e.isSortedDesc?"▼":"▲":""))})))})):b.map((function(e){return s.createElement("tr",f()({className:"table-courses__head-tr"},e.getHeaderGroupProps()),e.headers.map((function(e){return s.createElement("th",f()({className:"table-courses__head-th"},e.getHeaderProps(e.getSortByToggleProps()),{key:e.getHeaderProps().key=(0,P.Z)()}),e.render("Header"),s.createElement("span",null,e.isSorted?e.isSortedDesc?"▼":"▲":""))})))}))),s.createElement("tbody",f()({className:"table-courses__body"},r()),o.map((function(e){return c(e),s.createElement("tr",f()({className:"table-courses__body-tr"},e.getRowProps()),e.cells.map((function(e){return s.createElement("td",f()({className:"table-courses__body-td--courses"},e.getCellProps()),e.render("Cell"))})))}))))},O=r(22584),_=r(73680),N=r(16431),S=r(87757),H=r.n(S),D=r(48926),T=r.n(D),j=r(73406),k=r(65467),x=r(26150),R=function(e,t){var r=(0,o.I0)();return{handleRemoveItem:function(){var a=T()(H().mark((function a(){var n,s;return H().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,k.nd)(e);case 2:n=a.sent,s=n.data,200===n.status?(r((0,j.Ob)(s.success,"removeAtTableAdmin")),r((0,x.E9)(e)),t(!1)):r((0,j.PA)(s.alert,"removeAtTableAdmin"));case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()}},A=function(){var e=(0,o.v9)((function(e){return e.useAdminData})),t=(0,o.v9)((function(e){return e.alertData})),r=(0,o.v9)((function(e){return e.emailDataToUse})),a=(0,s.useState)(""),l=n()(a,2),u=l[0],p=l[1],f=(0,s.useState)(!1),b=n()(f,2),g=b[0],v=b[1],h=i(p,v),P=h.columns,y=h.data,E=R(u,v).handleRemoveItem;(0,O.Z)();var S=(0,c.useTable)({columns:P,data:y},c.useGlobalFilter,c.useSortBy,c.usePagination),H=S.getTableProps,D=S.getTableBodyProps,T=S.headerGroups,j=S.page,k=S.nextPage,x=S.previousPage,A=S.canNextPage,B=S.canPreviousPage,C=S.pageOptions,G=S.prepareRow,I=S.state,M=S.setGlobalFilter,Z=I.globalFilter,F=I.pageIndex;return s.createElement("article",{className:"admin-email"},(t.errorServerMsg,s.createElement(N.Z,null)),s.createElement("div",{className:"admin-email__wrapper"},s.createElement(m.Z,{data:r,filter:Z,setFilter:M}),s.createElement(w,{getTableProps:H,getTableBodyProps:D,headerGroups:T,page:j,prepareRow:G}),s.createElement(d.Z,{canNextPage:A,canPreviousPage:B,nextPage:k,pageIndex:F,pageOptions:C,previousPage:x})),s.createElement(_.Z,{enableAction:e.enableEmails,isOpenModal:g,handleRemoveItem:E,handleNotRemoveItem:function(){v(!1)},purpose:"email"}))}},3101:function(){},2463:function(){}}]);